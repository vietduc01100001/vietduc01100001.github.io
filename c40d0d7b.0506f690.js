(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{115:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return o})),t.d(n,"rightToc",(function(){return p})),t.d(n,"default",(function(){return l}));var a=t(2),r=t(6),c=(t(0),t(125)),i={title:"delete vs g\xe1n b\u1eb1ng undefined trong JavaScript",tags:["javascript"]},o={permalink:"/2019/11/27/delete-vs-gan-bang-undefined-trong-javascript",source:"@site/blog/2019-11-27-delete-vs-gan-bang-undefined-trong-javascript.md",description:"\u0110\xe3 bao gi\u1edd b\u1ea1n x\xf3a m\u1ed9t property kh\u1ecfi object trong JavaScript ch\u01b0a? B\u1ea1n s\u1eed d\u1ee5ng c\xe1ch n\xe0o? B\u1ea1n c\xf3 mu\u1ed1n bi\u1ebft s\u1ef1 kh\xe1c bi\u1ec7t gi\u1eefa nh\u1eefng c\xe1ch \u0111\xf3? B\xe0i vi\u1ebft n\xe0y s\u1ebd gi\xfap b\u1ea1n gi\u1ea3i th\xedch nh\u1eefng th\u1eafc m\u1eafc tr\xean.",date:"2019-11-27T00:00:00.000Z",tags:[{label:"javascript",permalink:"/tags/javascript"}],title:"delete vs g\xe1n b\u1eb1ng undefined trong JavaScript",readingTime:3.635,truncated:!0,prevItem:{title:"Review s\xe1ch The Little Go Book",permalink:"/2019/12/23/review-sach-the-little-go-book"}},p=[{value:"1. G\xe1n property b\u1eb1ng <code>undefined</code> kh\xf4ng ho\xe0n to\xe0n xo\xe1 property \u0111\xf3",id:"1-g\xe1n-property-b\u1eb1ng-undefined-kh\xf4ng-ho\xe0n-to\xe0n-xo\xe1-property-\u0111\xf3",children:[]},{value:"2. N\u1ebfu object c\xf3 prototype chain th\xec sao?",id:"2-n\u1ebfu-object-c\xf3-prototype-chain-th\xec-sao",children:[]},{value:"3. &quot;T\xf4i c\xf3 m\u1ed9t con m\xe1y Linux v\u1edbi CPU 0.8GHz v\xe0 256MB RAM, t\xf4i quan t\xe2m t\u1edbi performance!&quot;",id:"3-t\xf4i-c\xf3-m\u1ed9t-con-m\xe1y-linux-v\u1edbi-cpu-08ghz-v\xe0-256mb-ram-t\xf4i-quan-t\xe2m-t\u1edbi-performance",children:[]}],b={rightToc:p};function l(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},b,t,{components:n,mdxType:"MDXLayout"}),Object(c.b)("p",null,"\u0110\xe3 bao gi\u1edd b\u1ea1n x\xf3a m\u1ed9t property kh\u1ecfi object trong JavaScript ch\u01b0a? B\u1ea1n s\u1eed d\u1ee5ng c\xe1ch n\xe0o? B\u1ea1n c\xf3 mu\u1ed1n bi\u1ebft s\u1ef1 kh\xe1c bi\u1ec7t gi\u1eefa nh\u1eefng c\xe1ch \u0111\xf3? B\xe0i vi\u1ebft n\xe0y s\u1ebd gi\xfap b\u1ea1n gi\u1ea3i th\xedch nh\u1eefng th\u1eafc m\u1eafc tr\xean."),Object(c.b)("p",null,"H\xf4m nay \u0111ang code th\xec m\xecnh g\u1eb7p tr\u01b0\u1eddng h\u1ee3p ph\u1ea3i xo\xe1 m\u1ed9t property trong object. Tho\u1ea1t nh\xecn t\u01b0\u1edfng \u0111\u01a1n gi\u1ea3n m\xe0 l\u1ea1i ch\u1ee9a \u0111\u1ef1ng nh\u1eefng ki\u1ebfn th\u1ee9c kh\xf4ng ng\u1edd. \ud83d\ude31"),Object(c.b)("p",null,'Nh\u01b0 c\xe1c b\u1ea1n \u0111\xe3 bi\u1ebft, c\xf3 2 c\xe1ch \u0111\u1ec3 "xo\xe1" m\u1ed9t property kh\u1ecfi object trong JavaScript:'),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},"D\xf9ng ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," operator"),Object(c.b)("pre",{parentName:"li"},Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"delete foo.bar\n"))),Object(c.b)("li",{parentName:"ol"},Object(c.b)("p",{parentName:"li"},"G\xe1n property c\u1ea7n xo\xe1 b\u1eb1ng ",Object(c.b)("inlineCode",{parentName:"p"},"undefined")),Object(c.b)("pre",{parentName:"li"},Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"foo.bar = undefined\n")))),Object(c.b)("p",null,"Sau m\u1ed9t h\u1ed3i Google th\u1ea7n ch\u01b0\u1edfng, m\xecnh c\xf3 th\u1ec3 t\xf3m t\u1eaft l\u1ea1i nh\u1eefng \u0111i\u1ec3m kh\xe1c bi\u1ec7t gi\u1eefa 2 c\xe1ch tr\xean."),Object(c.b)("h2",{id:"1-g\xe1n-property-b\u1eb1ng-undefined-kh\xf4ng-ho\xe0n-to\xe0n-xo\xe1-property-\u0111\xf3"},"1. G\xe1n property b\u1eb1ng ",Object(c.b)("inlineCode",{parentName:"h2"},"undefined")," kh\xf4ng ho\xe0n to\xe0n xo\xe1 property \u0111\xf3"),Object(c.b)("p",null,"\u0110i\u1ec1u \u0111\u1ea7u ti\xean b\u1ea1n n\xean bi\u1ebft l\xe0 vi\u1ec7c g\xe1n ",Object(c.b)("inlineCode",{parentName:"p"},"foo.bar")," b\u1eb1ng ",Object(c.b)("inlineCode",{parentName:"p"},"undefined")," ch\u1ec9 \u0111\u01a1n gi\u1ea3n l\xe0 cho property \u0111\xf3 c\xf3 gi\xe1 tr\u1ecb l\xe0 ",Object(c.b)("inlineCode",{parentName:"p"},"undefined"),". C\xf3 ngh\u0129a l\xe0 khi b\u1ea1n s\u1eed d\u1ee5ng h\xe0m ",Object(c.b)("inlineCode",{parentName:"p"},"hasOwnProperty()")," ho\u1eb7c l\u1eb7p object trong v\xf2ng l\u1eb7p ",Object(c.b)("inlineCode",{parentName:"p"},"for in")," th\xec property v\u1eabn c\xf2n t\u1ed3n t\u1ea1i."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"foo.hasOwnProperty('bar') // returns true\n\nfor (const key in foo) {\n    if (key === 'bar') {\n        console.log('I am still alive') // log `I am still a live`\n    }\n}\n")),Object(c.b)("p",null,"N\u1ebfu d\xf9ng ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," operator th\xec property s\u1ebd b\u1ecb xo\xe1 ho\xe0n to\xe0n, v\xe0 k\u1ebft qu\u1ea3 trong \u0111o\u1ea1n code tr\xean s\u1ebd b\u1ecb \u0111\u1ea3o ng\u01b0\u1ee3c."),Object(c.b)("p",null,"L\xed do l\xe0 v\xec ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," operator l\xe0m thay \u0111\u1ed5i ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://thefullsnack.com/posts/javascript-v8-notes.html#hidden-class"}),"hidden class"),", t\u01b0\u01a1ng \u0111\u01b0\u01a1ng v\u1edbi vi\u1ec7c property ",Object(c.b)("inlineCode",{parentName:"p"},"bar")," ch\u01b0a bao gi\u1edd \u0111\u01b0\u1ee3c khai b\xe1o. \u0110i\u1ec1u n\xe0y kh\xf4ng x\u1ea3y ra khi g\xe1n ",Object(c.b)("inlineCode",{parentName:"p"},"foo.bar")," b\u1eb1ng ",Object(c.b)("inlineCode",{parentName:"p"},"undefined"),", v\xec thao t\xe1c n\xe0y ch\u1ec9 g\xe1n l\u1ea1i gi\xe1 tr\u1ecb c\u1ee7a property ",Object(c.b)("inlineCode",{parentName:"p"},"bar"),". V\xec v\u1eady n\u1ebfu b\u1ea1n mu\u1ed1n check trong object c\xf3 t\u1ed3n t\u1ea1i property n\xe0o \u0111\xf3 kh\xf4ng th\xec n\xean s\u1eed d\u1ee5ng h\xe0m ",Object(c.b)("inlineCode",{parentName:"p"},"hasOwnProperty()")," h\u01a1n l\xe0 m\u1ed9t c\xe2u check \u0111\u01a1n gi\u1ea3n:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"if (foo.bar === undefined) { }\n")),Object(c.b)("p",null,"C\xe1c b\u1ea1n th\u1eed t\xecm hi\u1ec3u s\u1ef1 kh\xe1c bi\u1ec7t gi\u1eefa ",Object(c.b)("em",{parentName:"p"},"undefined")," v\xe0 ",Object(c.b)("em",{parentName:"p"},"not defined")," trong JavaScript n\u1eefa nh\xe9, kh\xe1 th\xfa v\u1ecb \u0111\u1ea5y! \ud83d\ude09"),Object(c.b)("h2",{id:"2-n\u1ebfu-object-c\xf3-prototype-chain-th\xec-sao"},"2. N\u1ebfu object c\xf3 prototype chain th\xec sao?"),Object(c.b)("p",null,"M\xecnh c\xf3 m\u1ed9t v\xed d\u1ee5 nh\u01b0 sau:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"const origin = {\n    x: 1\n}\n\nconst extended = Object.create(origin)\nextended.x = 2\n\ndelete extended.x\nconsole.log(extended.x) // ???\n")),Object(c.b)("p",null,"C\xe1c b\u1ea1n th\u1eed \u0111o\xe1n xem \u0111o\u1ea1n code tr\xean s\u1ebd log ra c\xe1i g\xec?"),Object(c.b)("p",null,"N\u1ebfu b\u1ea1n ngh\u0129 k\u1ebft qu\u1ea3 l\xe0 ",Object(c.b)("inlineCode",{parentName:"p"},"undefined")," th\xec xin chia bu\u1ed3n, h\xf4m nay b\u1ea1n t\u1ea1ch l\xf4 =))"),Object(c.b)("p",null,"\u1ede \u0111\xe2y ch\xfang ta c\xf3 object ",Object(c.b)("inlineCode",{parentName:"p"},"extended")," c\xf3 prototype l\xe0 object ",Object(c.b)("inlineCode",{parentName:"p"},"origin"),". Sau khi g\u1ecdi ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," th\xec m\u1ed7i l\u1ea7n truy c\u1eadp l\u1ea1i ",Object(c.b)("inlineCode",{parentName:"p"},"extended.x")," JavaScript engine s\u1ebd look up t\u1eeb prototype chain c\u1ee7a ",Object(c.b)("inlineCode",{parentName:"p"},"extended")," v\xe0 t\xecm th\u1ea5y property ",Object(c.b)("inlineCode",{parentName:"p"},"x")," c\u1ee7a ",Object(c.b)("inlineCode",{parentName:"p"},"origin"),". K\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1 console l\xe0 ",Object(c.b)("inlineCode",{parentName:"p"},"1"),"."),Object(c.b)("p",null,"OK \u0111\xe3 r\xf5, v\u1eady \u0111i\u1ec1u g\xec s\u1ebd x\u1ea3y ra khi thay 2 d\xf2ng cu\u1ed1i c\u1ee7a \u0111o\u1ea1n code tr\xean th\xe0nh nh\u01b0 sau:"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-javascript"}),"extended.x = undefined\nconsole.log(extended.x) // ???\n")),Object(c.b)("p",null,"L\xfac n\xe0y k\u1ebft qu\u1ea3 log ra s\u1ebd l\xe0 ",Object(c.b)("inlineCode",{parentName:"p"},"undefined"),". V\xec property ",Object(c.b)("inlineCode",{parentName:"p"},"x")," v\u1eabn t\u1ed3n t\u1ea1i trong ",Object(c.b)("inlineCode",{parentName:"p"},"extended")," v\u1edbi gi\xe1 tr\u1ecb b\u1eb1ng ",Object(c.b)("inlineCode",{parentName:"p"},"undefined")," n\xean s\u1ebd kh\xf4ng x\u1ea3y ra vi\u1ec7c look up t\u1eeb prototype chain."),Object(c.b)("p",null,'T\xfam l\u1ea1i l\xe0 khi b\u1ea1n th\u1ef1c hi\u1ec7n "xo\xe1" m\u1ed9t property kh\u1ecfi object, n\u1ebfu kh\xf4ng ch\u1eafc ch\u1eafn r\u1eb1ng object \u0111\xf3 c\xf3 prototype chain hay kh\xf4ng v\xe0 c\xe1c object n\xf3 th\u1eeba h\u01b0\u1edfng prototype c\xf3 ch\u1ee9a property c\u1ea7n xo\xe1 kh\xf4ng, th\xec b\u1ea1n n\xean g\xe1n n\xf3 b\u1eb1ng ',Object(c.b)("inlineCode",{parentName:"p"},"undefined")," thay v\xec d\xf9ng ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," operator."),Object(c.b)("h2",{id:"3-t\xf4i-c\xf3-m\u1ed9t-con-m\xe1y-linux-v\u1edbi-cpu-08ghz-v\xe0-256mb-ram-t\xf4i-quan-t\xe2m-t\u1edbi-performance"},'3. "T\xf4i c\xf3 m\u1ed9t con m\xe1y Linux v\u1edbi CPU 0.8GHz v\xe0 256MB RAM, t\xf4i quan t\xe2m t\u1edbi performance!"'),Object(c.b)("p",null,"Nh\u01b0 \u0111\xe3 \u0111\u1ec1 c\u1eadp \u1edf ph\u1ea7n 1, vi\u1ec7c ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," m\u1ed9t property s\u1ebd l\xe0m thay \u0111\u1ed5i hidden class, \u0111\u1ed3ng ngh\u0129a v\u1edbi performance b\u1ecb \u1ea3nh h\u01b0\u1edfng. B\u1ea1n n\xean tr\xe1nh s\u1eed d\u1ee5ng ",Object(c.b)("inlineCode",{parentName:"p"},"delete")," operator qu\xe1 nhi\u1ec1u, \u0111\u1eb7c bi\u1ec7t \u1edf trong v\xf2ng l\u1eb7p. Tuy nhi\xean kh\xf4ng c\xf3 ngh\u0129a l\xe0 b\u1ea1n kh\xf4ng bao gi\u1edd n\xean d\xf9ng operator n\xe0y. Vi\u1ec7c optimize code \u1edf m\u1ee9c JavaScript engine s\u1ebd kh\xf4ng \u0111\xe1ng \u0111\u1ec3 \u0111\xe1nh \u0111\u1ed5i n\u1ebfu n\xf3 l\xe0m cho code c\u1ee7a b\u1ea1n \u0111\u1ecdc nh\u01b0 v\u0103n t\u1ebf."),Object(c.b)("p",null,"B\xe0i vi\u1ebft n\xe0y \u0111\xe3 gi\xfap b\u1ea1n hi\u1ec3u \u0111\u01b0\u1ee3c s\u1ef1 kh\xe1c bi\u1ec7t gi\u1eefa 2 c\xe1ch x\xf3a property kh\u1ecfi object trong JavaScript. Hi v\u1ecdng n\xf3 s\u1ebd gi\xfap b\u1ea1n l\xean level \u0111\u1ec3 \u0111i c\xe0 kh\u1ecba v\u1edbi \u0111\u1ed3ng nghi\u1ec7p. \ud83d\ude0e"),Object(c.b)("p",null,Object(c.b)("em",{parentName:"p"},"Tham kh\u1ea3o t\u1eeb:")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("em",{parentName:"p"},Object(c.b)("a",Object(a.a)({parentName:"em"},{href:"https://stackoverflow.com/a/14967568/8943850"}),"javascript - delete a.x vs a.x = undefined - Stack Overflow")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("em",{parentName:"p"},Object(c.b)("a",Object(a.a)({parentName:"em"},{href:"https://thefullsnack.com/posts/javascript-v8-notes.html#hidden-class"}),"V\xe0i ghi ch\xe9p v\u1ec1 V8 v\xe0 Garbage Collection ","|"," Huy's Blog"))))))}l.isMDXComponent=!0},125:function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return u}));var a=t(0),r=t.n(a);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var b=r.a.createContext({}),l=function(e){var n=r.a.useContext(b),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},h=function(e){var n=l(e.components);return r.a.createElement(b.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},g=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,i=e.parentName,b=p(e,["components","mdxType","originalType","parentName"]),h=l(t),g=a,u=h["".concat(i,".").concat(g)]||h[g]||d[g]||c;return t?r.a.createElement(u,o(o({ref:n},b),{},{components:t})):r.a.createElement(u,o({ref:n},b))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,i=new Array(c);i[0]=g;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var b=2;b<c;b++)i[b]=t[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}g.displayName="MDXCreateElement"}}]);