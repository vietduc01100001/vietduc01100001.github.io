{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/conditional-khong-can-if-else-hoac-switch-trong-javascript/","result":{"data":{"markdownRemark":{"id":"b0aa4516-5d01-541e-a223-a40e240523de","html":"<p>M·ªôt b√†i note nhanh v√† ng·∫Øn chia s·∫ª v·ªÅ s·ª± hay ho c·ªßa JavaScript. M·ªõi ƒë√¢y m√¨nh g·∫∑p m·ªôt t√¨nh hu·ªëng nho nh·ªè nh∆∞ sau.</p>\n<p>C√≥ m·ªôt entity <code class=\"language-text\">User</code> v·ªõi 2 tr∆∞·ªùng: <code class=\"language-text\">status</code> v√† <code class=\"language-text\">type</code>. M·ªói tr∆∞·ªùng l·∫ßn l∆∞·ª£t c√≥ nh·ªØng gi√° tr·ªã sau:</p>\n<ul>\n<li><code class=\"language-text\">status</code>: <code class=\"language-text\">[&#39;NO_ACCESS&#39;, &#39;PENDING_SUBSCRIBE&#39;, &#39;SUBSCRIBED&#39;, &#39;PENDING_CANCEL&#39;]</code></li>\n<li><code class=\"language-text\">type</code>: <code class=\"language-text\">[&#39;NO_ACCESS&#39;, &#39;DELAYED&#39;, &#39;CLICK2REFRESH&#39;, &#39;REALTIME&#39;]</code></li>\n</ul>\n<p>Nhi·ªám v·ª• c·ªßa m√¨nh l√† vi·∫øt m·ªôt API ƒë·ªÉ update 2 tr∆∞·ªùng tr√™n:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">PUT /users/:user_id</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"status\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PENDING_SUBSCRIBE\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"REALTIME\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<p>V√¨ 2 tr∆∞·ªùng n√†y c√≥ m·ªëi li√™n h·ªá v·ªõi nhau, n√™n sau khi v·∫≠n d·ª•ng h·∫øt nƒÉng l·ª±c to√°n h·ªçc cao c·∫•p t·ª´ 12 nƒÉm ƒë√®n v·ªü bonus v√†i nƒÉm t·ª± ƒëi ch·ª£ mua rau c·ªßa m√¨nh, m√¨nh t√≠nh ra ƒë∆∞·ª£c c√≥ t·∫•t c·∫£ 16 tr∆∞·ªùng h·ª£p c·∫ßn x·ª≠ l√Ω ·ªü trong API tr√™n. Kh√¥ng s·ª£ k·∫ª th√π ƒë√¥ng, m√¨nh s·∫Øn ·ªëng tay ra tr·∫≠n. Sau ƒë√¢y l√† t∆∞·ªùng thu·∫≠t di·ªÖn bi·∫øn tr·∫≠n ƒë·∫•u.</p>\n<h3 id=\"round-1-if-else\" style=\"position:relative;\"><a href=\"#round-1-if-else\" aria-label=\"round 1 if else permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Round 1: <code class=\"language-text\">if else</code></h3>\n<p>Ban ƒë·∫ßu, m√¨nh th·ª≠ code ngay v·ªõi ki·ªÉu <code class=\"language-text\">if else</code> truy·ªÅn th·ªëng.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'NO_ACCESS'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'NO_ACCESS'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'DELAYED'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'CLICK2REFRESH'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'REALTIME'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'PENDING_SUBSCRIBE'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'NO_ACCESS'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token string\">'DELAYED'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token operator\">...</span></code></pre></div>\n<p>V√† ch·∫≥ng c·∫ßn ph·∫£i n√≥i, ƒë·ªëng code tr√™n nh√¨n nh∆∞ shit v·∫≠y. Qu√° r·ªëi r·∫Øm v√† n·∫øu kh√¥ng c·∫©n th·∫≠n th√¨ r·∫•t d·ªÖ ƒë·ªÉ vi·∫øt sai t√™n tr∆∞·ªùng ho·∫∑c gi√° tr·ªã so s√°nh. V√¨ v·∫≠y, m√¨nh ƒë√£ chuy·ªÉn sang d√πng v≈© kh√≠ l·ª£i h·∫°i h∆°n.</p>\n<h3 id=\"round-2-switch-case\" style=\"position:relative;\"><a href=\"#round-2-switch-case\" aria-label=\"round 2 switch case permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Round 2: <code class=\"language-text\">switch case</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'NO_ACCESS'</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'NO_ACCESS'</span><span class=\"token operator\">:</span>\n                <span class=\"token comment\">// ...</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'DELAYED'</span><span class=\"token operator\">:</span>\n                <span class=\"token comment\">// ...</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'CLICK2REFRESH'</span><span class=\"token operator\">:</span>\n                <span class=\"token comment\">// ...</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">case</span> <span class=\"token string\">'REALTIME'</span><span class=\"token operator\">:</span>\n                <span class=\"token comment\">// ...</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'PENDING_SUBSCRIBE'</span><span class=\"token operator\">:</span>\n        <span class=\"token comment\">// ...</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'SUBSCRIBED'</span><span class=\"token operator\">:</span>\n        <span class=\"token comment\">// ...</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'PENDING_CANCEL'</span><span class=\"token operator\">:</span>\n        <span class=\"token comment\">// ...</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Tuy code ƒë√£ nh√¨n g·ªçn h∆°n, nh∆∞ng c∆° b·∫£n n√≥ v·∫´n kh√¥ng kh√°c <code class=\"language-text\">if else</code> l√† m·∫•y. C√†ng nhi·ªÅu <code class=\"language-text\">status</code> v√† <code class=\"language-text\">type</code> th√¨ ƒëo·∫°n code s·∫Ω c√†ng d√†i v√† kh√≥ ƒë·ªçc. ƒê·∫øn l√∫c n√†y, m√¨nh ƒë√†nh ph·∫£i v·∫≠n n·ªôi c√¥ng, t·∫≠n d·ª•ng t·ªëi ƒëa t√≠nh dynamic c·ªßa JavaScript, v√† k·∫øt qu·∫£ l√†‚Ä¶</p>\n<h3 id=\"round-3-object-mapping\" style=\"position:relative;\"><a href=\"#round-3-object-mapping\" aria-label=\"round 3 object mapping permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Round 3: Object mapping</h3>\n<p>S·ª≠ d·ª•ng gi√° tr·ªã c·ªßa 2 tr∆∞·ªùng <code class=\"language-text\">status</code> v√† <code class=\"language-text\">type</code>, m√¨nh t·∫°o ra m·ªôt object nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> handlerMapping <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token constant\">NO_ACCESS</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function-variable function\">NO_ACCESS</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">DELAYED</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">CLICK2REFRESH</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">REALTIME</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ...</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">PENDING_SUBSCRIBE</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>L√∫c n√†y, vi·ªác g·ªçi h√†m x·ª≠ l√Ω tr·ªü n√™n d·ªÖ d√†ng h∆°n r·∫•t nhi·ªÅu:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// get the handler function</span>\n<span class=\"token keyword\">const</span> handler <span class=\"token operator\">=</span> handlerMapping<span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>user<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">// execute the function</span>\n<span class=\"token function\">handler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>C√°ch s·ª≠ d·ª•ng object mapping l√†m gi·∫£m b·ªõt nh·ªØng keyword l·∫∑p ƒëi l·∫∑p l·∫°i c·ªßa 2 c√°ch tr√™n, ph√π h·ª£p v·ªõi nh·ªØng tr∆∞·ªùng h·ª£p ƒëi·ªÅu ki·ªán check d√†i v·ªõi m·ªói tr∆∞·ªùng c√≥ nhi·ªÅu gi√° tr·ªã. D√π kh√¥ng ph·∫£i l√† c√°i g√¨ ƒë√≥ qu√° ƒë·ªôt ph√° nh∆∞ng m√¨nh c·∫£m th·∫•y kh√° hay ho v√† ƒë√°ng ƒë·ªÉ chia s·∫ª. C·∫£m ∆°n c√°c b·∫°n ƒë√£ ƒë·ªçc h·∫øt b√†i n√†y. ü§ó</p>","fields":{"slug":"/posts/conditional-khong-can-if-else-hoac-switch-trong-javascript/","seriesSlug":null,"tagSlugs":["/tag/javascript/"]},"frontmatter":{"date":"2020-09-01T04:30:00.000Z","description":"M·ªôt b√†i note nhanh v√† ng·∫Øn chia s·∫ª v·ªÅ s·ª± hay ho c·ªßa JavaScript. M·ªõi ƒë√¢y m√¨nh g·∫∑p m·ªôt t√¨nh hu·ªëng nho nh·ªè nh∆∞ sau.","tags":["javascript"],"title":"Conditional kh√¥ng c·∫ßn if else ho·∫∑c switch trong JavaScript","series":null,"socialImage":{"publicURL":"/static/7f91e8bc19b01370bc0364facd0e7bb3/thumb.png"}}}},"pageContext":{"slug":"/posts/conditional-khong-can-if-else-hoac-switch-trong-javascript/"}},"staticQueryHashes":["251939775","2803610385","323858932"]}