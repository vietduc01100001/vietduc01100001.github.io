{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/delete-vs-gan-bang-undefined-trong-javascript/","result":{"data":{"markdownRemark":{"id":"9a610e7c-410b-59be-8284-068d548cce5b","html":"<p>HÃ´m nay Ä‘ang code thÃ¬ mÃ¬nh gáº·p trÆ°á»ng há»£p pháº£i xoÃ¡ má»™t property trong object. Thoáº¡t nhÃ¬n tÆ°á»Ÿng Ä‘Æ¡n giáº£n mÃ  láº¡i chá»©a Ä‘á»±ng nhá»¯ng kiáº¿n thá»©c khÃ´ng ngá». ğŸ˜±</p>\n<p>NhÆ° cÃ¡c báº¡n Ä‘Ã£ biáº¿t, cÃ³ 2 cÃ¡ch Ä‘á»ƒ â€œxoÃ¡â€ má»™t property khá»i object trong JavaScript:</p>\n<ol>\n<li>\n<p>DÃ¹ng <code class=\"language-text\">delete</code> operator</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">delete</span> foo<span class=\"token punctuation\">.</span>bar</code></pre></div>\n</li>\n<li>\n<p>GÃ¡n property cáº§n xoÃ¡ báº±ng <code class=\"language-text\">undefined</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">foo<span class=\"token punctuation\">.</span>bar <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span></code></pre></div>\n</li>\n</ol>\n<p>Sau má»™t há»“i Google tháº§n chÆ°á»Ÿng, mÃ¬nh cÃ³ thá»ƒ tÃ³m táº¯t láº¡i nhá»¯ng Ä‘iá»ƒm khÃ¡c biá»‡t giá»¯a 2 cÃ¡ch trÃªn.</p>\n<h2 id=\"1-gÃ¡n-property-báº±ng-undefined-khÃ´ng-hoÃ n-toÃ n-xoÃ¡-property-Ä‘Ã³\" style=\"position:relative;\"><a href=\"#1-g%C3%A1n-property-b%E1%BA%B1ng-undefined-kh%C3%B4ng-ho%C3%A0n-to%C3%A0n-xo%C3%A1-property-%C4%91%C3%B3\" aria-label=\"1 gÃ¡n property báº±ng undefined khÃ´ng hoÃ n toÃ n xoÃ¡ property Ä‘Ã³ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. GÃ¡n property báº±ng <code class=\"language-text\">undefined</code> khÃ´ng hoÃ n toÃ n xoÃ¡ property Ä‘Ã³</h2>\n<p>Äiá»u Ä‘áº§u tiÃªn báº¡n nÃªn biáº¿t lÃ  viá»‡c gÃ¡n <code class=\"language-text\">foo.bar</code> báº±ng <code class=\"language-text\">undefined</code> chá»‰ Ä‘Æ¡n giáº£n lÃ  cho property Ä‘Ã³ cÃ³ giÃ¡ trá»‹ lÃ  <code class=\"language-text\">undefined</code>. CÃ³ nghÄ©a lÃ  khi báº¡n sá»­ dá»¥ng hÃ m <code class=\"language-text\">hasOwnProperty()</code> hoáº·c láº·p object trong vÃ²ng láº·p <code class=\"language-text\">for in</code> thÃ¬ property váº«n cÃ²n tá»“n táº¡i.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">foo<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// returns true</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> key <span class=\"token keyword\">in</span> foo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>key <span class=\"token operator\">===</span> <span class=\"token string\">'bar'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'I am still alive'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// log `I am still a live`</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Náº¿u dÃ¹ng <code class=\"language-text\">delete</code> operator thÃ¬ property sáº½ bá»‹ xoÃ¡ hoÃ n toÃ n, vÃ  káº¿t quáº£ trong Ä‘oáº¡n code trÃªn sáº½ bá»‹ Ä‘áº£o ngÆ°á»£c.</p>\n<p>LÃ­ do lÃ  vÃ¬ <code class=\"language-text\">delete</code> operator lÃ m thay Ä‘á»•i <a href=\"https://thefullsnack.com/posts/javascript-v8-notes.html#hidden-class\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">hidden class</a>, tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i viá»‡c property <code class=\"language-text\">bar</code> chÆ°a bao giá» Ä‘Æ°á»£c khai bÃ¡o. Äiá»u nÃ y khÃ´ng xáº£y ra khi gÃ¡n <code class=\"language-text\">foo.bar</code> báº±ng <code class=\"language-text\">undefined</code>, vÃ¬ thao tÃ¡c nÃ y chá»‰ gÃ¡n láº¡i giÃ¡ trá»‹ cá»§a property <code class=\"language-text\">bar</code>. VÃ¬ váº­y náº¿u báº¡n muá»‘n check trong object cÃ³ tá»“n táº¡i property nÃ o Ä‘Ã³ khÃ´ng thÃ¬ nÃªn sá»­ dá»¥ng hÃ m <code class=\"language-text\">hasOwnProperty()</code> hÆ¡n lÃ  má»™t cÃ¢u check Ä‘Æ¡n giáº£n:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>foo<span class=\"token punctuation\">.</span>bar <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>CÃ¡c báº¡n thá»­ tÃ¬m hiá»ƒu sá»± khÃ¡c biá»‡t giá»¯a <em>undefined</em> vÃ  <em>not defined</em> trong JavaScript ná»¯a nhÃ©, khÃ¡ thÃº vá»‹ Ä‘áº¥y! ğŸ˜‰</p>\n<h2 id=\"2-náº¿u-object-cÃ³-prototype-chain-thÃ¬-sao\" style=\"position:relative;\"><a href=\"#2-n%E1%BA%BFu-object-c%C3%B3-prototype-chain-th%C3%AC-sao\" aria-label=\"2 náº¿u object cÃ³ prototype chain thÃ¬ sao permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Náº¿u object cÃ³ prototype chain thÃ¬ sao?</h2>\n<p>MÃ¬nh cÃ³ má»™t vÃ­ dá»¥ nhÆ° sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> origin <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    x<span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> extended <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>origin<span class=\"token punctuation\">)</span>\nextended<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n\n<span class=\"token keyword\">delete</span> extended<span class=\"token punctuation\">.</span>x\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>extended<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ???</span></code></pre></div>\n<p>CÃ¡c báº¡n thá»­ Ä‘oÃ¡n xem Ä‘oáº¡n code trÃªn sáº½ log ra cÃ¡i gÃ¬?</p>\n<p>Náº¿u báº¡n nghÄ© káº¿t quáº£ lÃ  <code class=\"language-text\">undefined</code> thÃ¬ xin chia buá»“n, hÃ´m nay báº¡n táº¡ch lÃ´ =))</p>\n<p>á» Ä‘Ã¢y chÃºng ta cÃ³ object <code class=\"language-text\">extended</code> cÃ³ prototype lÃ  object <code class=\"language-text\">origin</code>. Sau khi gá»i <code class=\"language-text\">delete</code> thÃ¬ má»—i láº§n truy cáº­p láº¡i <code class=\"language-text\">extended.x</code> JavaScript engine sáº½ look up tá»« prototype chain cá»§a <code class=\"language-text\">extended</code> vÃ  tÃ¬m tháº¥y property <code class=\"language-text\">x</code> cá»§a <code class=\"language-text\">origin</code>. Káº¿t quáº£ tráº£ vá» console lÃ  <code class=\"language-text\">1</code>.</p>\n<p>OK Ä‘Ã£ rÃµ, váº­y Ä‘iá»u gÃ¬ sáº½ xáº£y ra khi thay 2 dÃ²ng cuá»‘i cá»§a Ä‘oáº¡n code trÃªn thÃ nh nhÆ° sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">extended<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>extended<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\">// ???</span></code></pre></div>\n<p>LÃºc nÃ y káº¿t quáº£ log ra sáº½ lÃ  <code class=\"language-text\">undefined</code>. VÃ¬ property <code class=\"language-text\">x</code> váº«n tá»“n táº¡i trong <code class=\"language-text\">extended</code> vá»›i giÃ¡ trá»‹ báº±ng <code class=\"language-text\">undefined</code> nÃªn sáº½ khÃ´ng xáº£y ra viá»‡c look up tá»« prototype chain.</p>\n<p>TÃºm láº¡i lÃ  khi báº¡n thá»±c hiá»‡n â€œxoÃ¡â€ má»™t property khá»i object, náº¿u khÃ´ng cháº¯c cháº¯n ráº±ng object Ä‘Ã³ cÃ³ prototype chain hay khÃ´ng vÃ  cÃ¡c object nÃ³ thá»«a hÆ°á»Ÿng prototype cÃ³ chá»©a property cáº§n xoÃ¡ khÃ´ng, thÃ¬ báº¡n nÃªn gÃ¡n nÃ³ báº±ng <code class=\"language-text\">undefined</code> thay vÃ¬ dÃ¹ng <code class=\"language-text\">delete</code> operator.</p>\n<h2 id=\"3-tÃ´i-cÃ³-má»™t-con-mÃ¡y-linux-vá»›i-cpu-08ghz-vÃ -256mb-ram-tÃ´i-quan-tÃ¢m-tá»›i-performance\" style=\"position:relative;\"><a href=\"#3-t%C3%B4i-c%C3%B3-m%E1%BB%99t-con-m%C3%A1y-linux-v%E1%BB%9Bi-cpu-08ghz-v%C3%A0-256mb-ram-t%C3%B4i-quan-t%C3%A2m-t%E1%BB%9Bi-performance\" aria-label=\"3 tÃ´i cÃ³ má»™t con mÃ¡y linux vá»›i cpu 08ghz vÃ  256mb ram tÃ´i quan tÃ¢m tá»›i performance permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. â€œTÃ´i cÃ³ má»™t con mÃ¡y Linux vá»›i CPU 0.8GHz vÃ  256MB RAM, tÃ´i quan tÃ¢m tá»›i performance!â€</h2>\n<p>NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ pháº§n 1, viá»‡c <code class=\"language-text\">delete</code> má»™t property sáº½ lÃ m thay Ä‘á»•i hidden class, Ä‘á»“ng nghÄ©a vá»›i performance bá»‹ áº£nh hÆ°á»Ÿng. Báº¡n nÃªn trÃ¡nh sá»­ dá»¥ng <code class=\"language-text\">delete</code> operator quÃ¡ nhiá»u, Ä‘áº·c biá»‡t á»Ÿ trong vÃ²ng láº·p. Tuy nhiÃªn khÃ´ng cÃ³ nghÄ©a lÃ  báº¡n khÃ´ng bao giá» nÃªn dÃ¹ng operator nÃ y. Viá»‡c optimize code á»Ÿ má»©c JavaScript engine sáº½ khÃ´ng Ä‘Ã¡ng Ä‘á»ƒ Ä‘Ã¡nh Ä‘á»•i náº¿u nÃ³ lÃ m cho code cá»§a báº¡n Ä‘á»c nhÆ° vÄƒn táº¿.</p>\n<p>BÃ i viáº¿t nÃ y Ä‘Ã£ giÃºp báº¡n hiá»ƒu Ä‘Æ°á»£c sá»± khÃ¡c biá»‡t giá»¯a 2 cÃ¡ch xÃ³a property khá»i object trong JavaScript. Hi vá»ng nÃ³ sáº½ giÃºp báº¡n lÃªn level Ä‘á»ƒ Ä‘i cÃ  khá»‹a vá»›i Ä‘á»“ng nghiá»‡p. ğŸ˜</p>\n<p><em>Tham kháº£o tá»«:</em></p>\n<ul>\n<li><em><a href=\"https://stackoverflow.com/a/14967568/8943850\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">javascript - delete a.x vs a.x = undefined - Stack Overflow</a></em></li>\n<li><em><a href=\"https://thefullsnack.com/posts/javascript-v8-notes.html#hidden-class\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">VÃ i ghi chÃ©p vá» V8 vÃ  Garbage Collection | Huyâ€™s Blog</a></em></li>\n</ul>","fields":{"slug":"/posts/delete-vs-gan-bang-undefined-trong-javascript/","categorySlug":"/category/knowledge/","tagSlugs":["/tag/javascript/"]},"frontmatter":{"date":"2019-11-27T04:30:00.000Z","description":"ÄÃ£ bao giá» báº¡n xÃ³a má»™t property khá»i object trong JavaScript chÆ°a? Báº¡n sá»­ dá»¥ng cÃ¡ch nÃ o? Báº¡n cÃ³ muá»‘n biáº¿t sá»± khÃ¡c biá»‡t giá»¯a nhá»¯ng cÃ¡ch Ä‘Ã³? BÃ i viáº¿t nÃ y sáº½ giÃºp báº¡n giáº£i thÃ­ch nhá»¯ng tháº¯c máº¯c trÃªn.","tags":["javascript"],"title":"delete vs gÃ¡n báº±ng undefined trong JavaScript","category":"Knowledge","socialImage":{"publicURL":"/static/9cf94f82a1f5b4e3063d2ba8bfe2cd5b/thumb.png"}}}},"pageContext":{"slug":"/posts/delete-vs-gan-bang-undefined-trong-javascript/"}},"staticQueryHashes":["251939775","2803610385","401334301"]}